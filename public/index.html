<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
      j.async = true;
      j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-FVTXCVSR');
  </script>
  <!-- End Google Tag Manager -->

  <!-- Favicon + App Icons -->
  <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="%PUBLIC_URL%/static/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="%PUBLIC_URL%/static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="%PUBLIC_URL%/static/favicon-16x16.png">
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json">

  <!-- Meta Tags -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta property="og:title" content="Hydra98 - Web-Based Windows 98 Experience" />
  <meta property="og:url" content="https://www.hydra98.net" />
  <meta property="og:image" content="%PUBLIC_URL%/static/favicon-32x32.png" />
  <meta property="og:description"
    content="A Windows 98-inspired creative sandbox, exploring nostalgia, gaming, and emerging web tech." />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Hydra98 - Web-Based Windows 98 Experience" />
  <meta name="twitter:description"
    content="A Windows 98-inspired creative sandbox, exploring nostalgia, gaming, and emerging web tech." />
  <meta name="twitter:image" content="%PUBLIC_URL%/static/favicon-32x32.png" />
  <meta name="twitter:site" content="@YourTwitterHandle" />

  <!-- Theme -->
  <meta name="theme-color" content="#000000" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />


  <!-- ✅ Windows 98 CSS Theme -->
  <link rel="stylesheet" href="https://unpkg.com/98.css@0.1.0/98.css" />

  <title>Hydra98 -- A Web-Based Windows 98 Experience</title>

  <!-- ✅ BIOS / Desktop Theme Styles -->
  <style>
    body {
      background-color: darkslategrey;
      height: 100%;
      width: 100%;
      padding: 0;
      overflow: hidden;
      margin: 0;
    }

    @font-face {
      font-family: AMIBios;
      src: url("./assets/ami_bios1.woff2") format("woff2");
    }

    #root {
      display: flex;
      align-content: center;
      align-items: center;
      background-color: darkslategrey;
    }

    html,
    body,
    #root,
    .w98,
    .desktop,
    .BIOSWrapper,
    .WindowsLaunchWrapper,
    * {
      overscroll-behavior: none;
    }

    .screen,
    .w98.desktop {
      width: 100vw;
      height: 80vh;
    }

    .desktop,
    .BIOSWrapper,
    .WindowsLaunchWrapper {
      margin-left: auto;
      margin-right: auto;
      overflow: hidden;
      background-color: #5f9ea0;
      width: 100vw;
      height: 80vh;
    }

    .desktop.notMobile {
      width: 640px;
      height: 480px;
    }

    .BIOSWrapper,
    .WindowsLaunchWrapper {
      position: absolute;
      overflow: hidden;
      height: 100%;
      width: 100%;
      top: 0px;
      left: 0px;
      display: flex;
      /* Added for smoother transitions */
      transition: opacity 0.5s ease-in-out;
    }

    .BIOS,
    .WindowsLaunch {
      color: white;
      font-family: AMIBios !important;
      z-index: 1;
      width: 640px;
      height: 480px;
      margin: auto;
      padding: 16px;
    }

    .BIOS {
      background-color: #000000;
    }

    .BIOSWrapper {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1001;
      /* Initially high, will be repositioned by JS */
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #000;
    }

    .WindowsLaunchWrapper {
      background: linear-gradient(-90deg,
          #a6c7df,
          #ffffff,
          #a6c7df,
          #c9d9ef,
          #a6c7df,
          #ffffff);
      background-size: 100% 100%;
      animation: Gradient 5s ease infinite;
      z-index: 1001;
      /* Initially high, will be repositioned by JS */
    }

    .WindowsLaunch {
      background-image: url("./static/windowsLaunch.png");
      background-size: cover;
      background-repeat: no-repeat;
    }

    .BIOS>div {
      margin-bottom: 16px;
      visibility: hidden;
    }

    .BIOS>div.visible {
      visibility: visible;
    }

    .BIOS__logo {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      height: 50px;
    }

    .left-image {
      width: 69px;
      height: 69px;
      margin-right: 0px;
    }

    .right-image {
      width: 150px;
      height: auto;
      background-repeat: no-repeat;
      background-position: right;
      background-size: contain;
    }

    @media (max-width: 600px) {
      .BIOS__logo {
        justify-content: flex-end;
        padding-right: 10px;
      }

      .left-image {
        width: 60px;
        height: 60px;
        margin-right: 5px;
      }

      .right-image {
        width: 150px;
        height: auto;
        background-size: contain;
      }
    }

    @media (max-width: 600px),
    (max-height: 600px) {

      .BIOS,
      .WindowsLaunch {
        margin-top: 0px;
        background-position: center;
        width: 100vw;
        height: 80vh;
      }

      .WindowsLaunch {
        background-size: contain;
      }

      .BIOS__logo {
        width: 100%;
      }
    }

    .visible {
      visibility: visible;
    }

    .hidden {
      opacity: 0;
      pointer-events: none;
      visibility: hidden;
    }

    .WindowsLaunchWrapper.visible {
      opacity: 1;
      visibility: visible;
    }
  </style>

  <script>
    // Create a global function that React will override
    window.positionStartupSequencesIfReady = function () {
      console.log("Positioning function not yet available");
    };

    function hideBios() {
      document.getElementsByClassName("BIOSWrapper")[0].classList.add("hidden");
    }

    function windowsLogo() {
      hideBios();
      const windowsLaunch = document.getElementsByClassName("WindowsLaunchWrapper")[0];
      windowsLaunch.classList.add("visible");
      windowsLaunch.classList.remove("hidden");
      window.localStorage.setItem("loggedIn", "true");

      // Position windows logo inside monitor if function is available
      if (typeof window.positionStartupSequencesIfReady === 'function') {
        window.positionStartupSequencesIfReady();
      }

      setTimeout(() => {
        windowsLaunch.classList.remove("visible");
        windowsLaunch.classList.add("hidden");
      }, 5000);
    }

    function staggerElements(elems, entry) {
      if (!elems[entry]) {
        document.querySelector(".BIOS").classList.add("hidden");
        windowsLogo();
        return;
      }

      elems[entry].classList.add("visible");
      setTimeout(() => staggerElements(elems, entry + 1), 1000);
    }

    function loadScreen() {
      var biosElem = document.querySelector(".BIOS");
      biosElem.classList.remove("initial");

      if (window.localStorage.getItem("loggedIn")) {
        hideBios();
        return;
      }

      biosElem.classList.add("visible");

      // Position BIOS inside monitor if function is available
      if (typeof window.positionStartupSequencesIfReady === 'function') {
        window.positionStartupSequencesIfReady();
      }

      staggerElements(biosElem.getElementsByTagName("div"), 0);
      function staggerElements(elems, entry) {
        if (!elems[entry]) {
          document.querySelector(".BIOS").classList.add("hidden");

          // Dispatch event to notify that BIOS sequence has completed
          console.log("BIOS sequence completed, dispatching event");
          window.dispatchEvent(new Event('biosSequenceCompleted'));

          windowsLogo();
          return;
        }

        elems[entry].classList.add("visible");
        setTimeout(() => staggerElements(elems, entry + 1), 1000);
      }
      window.dispatchEvent(new Event('biosSequenceCompleted'));//triggers the welcome message
    }

    // Longer delay to ensure React has time to initialize
    setTimeout(loadScreen, 1500);
  </script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-FVTXCVSR" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>

  <div class="BIOSWrapper initial">
    <div class="BIOS">
      <div class="BIOS__logo">
        <img src="%PUBLIC_URL%/static/windows98 flag.gif" alt="Windows98 flag" class="left-image" />
        <img src="%PUBLIC_URL%/static/hydrabios2.png" alt="Hydra98 Logo" class="right-image" />
      </div>
      <div class="BIOS__bootHeader">
        <p>AMII BIOS (C) 1992-2025</p>
        <p>BIOS Version 18.3.1 REACT</p>
      </div>
      <div class="BIOS__bootMessage1">Press &lt;?&gt; key if you want to run setup</div>
      <div class="BIOS__bootMessage2">Keyboard... <span>detected</span></div>
      <div class="BIOS__bootMessage3">Mouse/digitizer... <span>detected</span></div>
      <div class="BIOS__bootMessage4">
        <img src="%PUBLIC_URL%/static/cryptopunk.jpg" alt="Author avatar" style="width: 33px;" />
        <p>This project is by <a href="https://bit.ly/3FsgmPt">CS</a></p>
        <p>Philadelphia based, contactable via <a href="https://bit.ly/3FEdIG8">LinkedIn</a></p>
        <p>Likes <a href="https://bit.ly/3Foun0t">chess</a> and
          <a href="https://soundcloud.com/southbound_music/sets/best-techno">techno</a></p>
        <p>Is unwilling to link his Twitter because he can't remember whether anything he tweeted is embarrassing</p>
        <p>Is sorry for how weird this works on tablets</p>
      </div>
    </div>
  </div>

  <div class="WindowsLaunchWrapper hidden">
    <div class="WindowsLaunch"></div>
  </div>

  <div id="root"></div>
</body>

</html>